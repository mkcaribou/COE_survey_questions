<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Support Question Selector</title>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #F5F5F5;
            color: #333333;
            background-image: radial-gradient(circle, #d9d9d9 1px, transparent 1px);
            background-size: 30px 30px;
        }
        h1, h3 { margin-bottom: 10px; }
        .button-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 20px;
        }
        .button-group button {
            margin: 5px 0;
            padding: 10px;
            background-color: #FFFFFF;
            border: 1px solid #CCCCCC;
            cursor: pointer;
            text-align: left;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        .button-group button.active {
            background-color: #FF7A00;
            color: white;
            border-color: #FF7A00;
        }
        #showAllButton {
            margin-bottom: 20px;
            padding: 10px 20px;
            background-color: #FF7A00;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        #showAllButton:hover {
            background-color: #E66D00;
        }
        #questionTable {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        #questionTable th, #questionTable td {
            border: 1px solid #EEEEEE;
            padding: 12px;
            text-align: left;
        }
        #questionTable th {
            background-color: #F0F0F0;
            font-weight: bold;
        }
        #questionTable tr:nth-child(even) { background-color: #FAFAFA; }
        .selector-group { margin-bottom: 20px; }
        .selector-label { font-weight: bold; margin-bottom: 5px; }
    </style>
</head>
<body>
    <h1>Business Support Question Selector</h1>
    
    <div style="display: flex; justify-content: space-between;">
        <div class="selector-group">
            <h3>Form of Support <span style="font-weight: normal; font-size: 0.9em;">(select all that apply)</span></h3>
            <div id="supportTypeButtons" class="button-group">
                <button onclick="toggleButton(this, 'support')">Digital Upskilling</button>
                <button onclick="toggleButton(this, 'support')">Digital Financial Services (DFS)</button>
                <button onclick="toggleButton(this, 'support')">Digital Business Operations (DBO)</button>
                <button onclick="toggleButton(this, 'support')">Market Access</button>
            </div>
        </div>
        <div class="selector-group">
            <h3>Desired Outcome <span style="font-weight: normal; font-size: 0.9em;">(select all that apply)</span></h3>
            <div id="outcomeButtons" class="button-group">
                <button onclick="toggleButton(this, 'outcome')">Resilience</button>
                <button onclick="toggleButton(this, 'outcome')">Efficiency</button>
                <button onclick="toggleButton(this, 'outcome')">Business Growth</button>
            </div>
        </div>
    </div>

    <button id="showAllButton" onclick="showAllQuestions()">Show All Questions</button>

    <div id="questionList"></div>

    <script>
        // The 'questions' object remains the same as in the previous version

        function toggleButton(button, group) {
            button.classList.toggle('active');
            getQuestions();
        }

        function showAllQuestions() {
            document.querySelectorAll('.button-group button').forEach(btn => btn.classList.remove('active'));
            getQuestions();
        }

        function getQuestions() {
            const activeSupports = Array.from(document.querySelectorAll('#supportTypeButtons button.active')).map(btn => btn.textContent);
            const activeOutcomes = Array.from(document.querySelectorAll('#outcomeButtons button.active')).map(btn => btn.textContent);
            const questionList = document.getElementById('questionList');
            
            let tableHTML = `
                <table id="questionTable">
                    <tr>
                        <th>Survey Question</th>
                        <th>Answer Options</th>
                        <th>Form of Support</th>
                        <th>Outcome</th>
                    </tr>
            `;
            
            let hasQuestions = false;

            for (let support in questions) {
                if (activeSupports.length > 0 && !activeSupports.includes(support)) continue;
                
                for (let outcome in questions[support]) {
                    if (activeOutcomes.length > 0 && !activeOutcomes.includes(outcome)) continue;
                    
                    questions[support][outcome].forEach(q => {
                        hasQuestions = true;
                        tableHTML += `
                            <tr>
                                <td>${q.question}</td>
                                <td>${q.options.join(", ")}</td>
                                <td>${support}</td>
                                <td>${outcome}</td>
                            </tr>
                        `;
                    });
                }
            }
            
            tableHTML += '</table>';
            
            if (hasQuestions) {
                questionList.innerHTML = tableHTML;
            } else {
                questionList.innerHTML = '<p>No questions found for the selected criteria. Please adjust your selection.</p>';
            }
        }

        // Initial load of all questions
        showAllQuestions();
    </script>
</body>
</html>
